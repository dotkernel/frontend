{% extends '@layout/default.html.twig' %}

{% block title %}{% trans 'Register' %}{% endblock %}
{% block page_title %}{% endblock %}

{% block body_class %}user-form{% endblock %}

{% block content %}
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="register-block">
                    <h3>Register</h3>

                    {{ messagesPartial('partial::alerts', {}, null, 'user-register') }}

                    {% set dummy = form.prepare() %}
                    {{ form().openTag(form) | raw }}

                    {% set details = form.get('detail') %}

                    {% set firstName = details.get('firstName') %}
                    {% set elementTranslatePlaceholder = firstName.getAttribute('placeholder')|trans|raw %}
                    {% set dummy = firstName.setAttribute('placeholder', elementTranslatePlaceholder) %}
                    {{ formElement(firstName) }}

                    {% set lastName = details.get('lastName') %}
                    {% set elementTranslatePlaceholder = lastName.getAttribute('placeholder')|trans|raw %}
                    {% set dummy = lastName.setAttribute('placeholder', elementTranslatePlaceholder) %}
                    {{ formElement(lastName) }}

                    {% set identity = form.get('email') %}
                    {% set elementTranslatePlaceholder = identity.getAttribute('placeholder')|trans|raw %}
                    {% set dummy = identity.setAttribute('placeholder', elementTranslatePlaceholder) %}
                    {{ formElement(identity) }}

                    {% set password = form.get('password') %}
                    {% set elementTranslatePlaceholder = password.getAttribute('placeholder')|trans|raw %}
                    {% set dummy = password.setAttribute('placeholder', elementTranslatePlaceholder) %}
                    {{ formElement(password) }}

                    {% set passwordConfirm = form.get('passwordConfirm') %}
                    {% set elementTranslatePlaceholder = passwordConfirm.getAttribute('placeholder')|trans|raw %}
                    {% set dummy = passwordConfirm.setAttribute('placeholder', elementTranslatePlaceholder) %}
                    {{ formElement(passwordConfirm) }}

                    {{ formElement(form.get('register_csrf')) }}

                    {% set submit = form.get('submit') %}
                    {% set submitValue = submit.getValue|trans|raw %}
                    {% set dummy = submit.setAttribute('value', submitValue) %}
                    {{ formSubmit(submit) }}

                    {{ form().closeTag() | raw }}

                    <hr>
                    <p class="terms">{% trans "When you sign up for an account, you agree to our" %} <a href="#">{% trans 'terms and conditions' %}</a>.</p>
                    <p>{% trans 'Already registered?' %} <a href="{{ path('user', {'action' : 'login'}) }}">{% trans 'Log in' %}</a>!</p>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
